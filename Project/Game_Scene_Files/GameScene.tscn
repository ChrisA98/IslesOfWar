[gd_scene load_steps=86 format=3 uid="uid://d32tym6bcdu7c"]

[ext_resource type="Script" path="res://Game_Scene_Files/GameScene.gd" id="1_7pjje"]
[ext_resource type="Script" path="res://Game_Scene_Files/UI_Builder.gd" id="2_wj4ul"]
[ext_resource type="Script" path="res://Game_Scene_Files/Fog_drawer.gd" id="3_vc5fr"]
[ext_resource type="Shader" path="res://World_Generation/New_Terrain.gdshader" id="4_4qqhp"]
[ext_resource type="Script" path="res://World_Generation/NavMesh_Builder.gd" id="4_k22hi"]
[ext_resource type="Shader" path="res://World_Generation/Water.gdshader" id="4_m0yv6"]
[ext_resource type="Texture2D" uid="uid://b3577jsrsxu70" path="res://Assets/UI_Elements/Clock_Back.png" id="6_mffx0"]
[ext_resource type="PackedScene" uid="uid://crswchumae5b0" path="res://World_Objects/Forest.tscn" id="7_1qpxy"]
[ext_resource type="Texture2D" uid="uid://bw850x7murj01" path="res://Assets/UI_Elements/Clock_Front.png" id="7_rkqbs"]
[ext_resource type="Texture2D" uid="uid://drbfk3h3s6x1b" path="res://Test_Items/HeightMap.exr" id="7_ubyyn"]
[ext_resource type="Script" path="res://Actor_Classes/Fort_Spawn.gd" id="8_viuko"]
[ext_resource type="Script" path="res://Actor_Classes/Player.gd" id="9_3h23t"]
[ext_resource type="PackedScene" uid="uid://76wslx0hq568" path="res://World_Objects/Stone_deposit.tscn" id="9_b7fca"]
[ext_resource type="PackedScene" uid="uid://dire4xft8ffrx" path="res://World_Objects/Crystal_deposit.tscn" id="10_07s6x"]
[ext_resource type="Script" path="res://Actor_Classes/GameCamera.gd" id="10_jjfcj"]
[ext_resource type="Shader" uid="uid://cmyeclhrvhn2o" path="res://World_Generation/Foliage_Shader.tres" id="10_l3sfk"]
[ext_resource type="PackedScene" uid="uid://dbdak3gjtpx88" path="res://World_Generation/Explorable_Fog.tscn" id="12_875hf"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_46wwo"]
sky_horizon_color = Color(0.647059, 0.654902, 0.670588, 1)
sun_curve = 0.310578

[sub_resource type="Sky" id="Sky_4kxja"]
sky_material = SubResource("ProceduralSkyMaterial_46wwo")

[sub_resource type="Environment" id="Environment_0xqwl"]
background_mode = 2
sky = SubResource("Sky_4kxja")
ambient_light_source = 3
ambient_light_color = Color(0.768627, 1, 0.898039, 1)
ambient_light_sky_contribution = 0.37
ambient_light_energy = 0.2
reflected_light_source = 2
tonemap_mode = 3
tonemap_exposure = 1.06
tonemap_white = 6.0
ssao_light_affect = 0.78
ssil_radius = 8.03
ssil_intensity = 0.08
ssil_sharpness = 0.0
sdfgi_use_occlusion = true
fog_aerial_perspective = 1.0
fog_height = 720.0
fog_height_density = 0.029
volumetric_fog_density = 0.1466
volumetric_fog_albedo = Color(0.254902, 0.254902, 0.254902, 1)
volumetric_fog_emission = Color(0.411765, 0.411765, 0.411765, 1)
volumetric_fog_gi_inject = 0.0
volumetric_fog_detail_spread = 0.933033
volumetric_fog_sky_affect = 0.656
volumetric_fog_temporal_reprojection_amount = 0.89
adjustment_enabled = true
adjustment_contrast = 1.2
adjustment_saturation = 1.2

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_d3i0u"]
exposure_multiplier = 0.717
auto_exposure_scale = 0.25
auto_exposure_speed = 0.01
dof_blur_far_distance = 1000.0

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_onle8"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_fbdp7"]

[sub_resource type="Gradient" id="Gradient_cwsep"]
offsets = PackedFloat32Array(0, 0.574194, 0.593548)
colors = PackedColorArray(0, 0, 0, 1, 0.232258, 0.232258, 0.232258, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_g6uko"]
gradient = SubResource("Gradient_cwsep")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mb71g"]
gradient = SubResource("Gradient_cwsep")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tausu"]
gradient = SubResource("Gradient_cwsep")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Gradient" id="Gradient_6anvw"]
offsets = PackedFloat32Array(0, 0.59276, 0.651584, 0.665158)
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0.653061, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_uejnh"]
gradient = SubResource("Gradient_6anvw")
width = 128
height = 128
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_g3y50"]
dof_blur_amount = 0.03

[sub_resource type="Gradient" id="Gradient_1g27v"]
interpolation_mode = 2
colors = PackedColorArray(0.442911, 0.442911, 0.442909, 1, 0.929412, 0.945098, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dlv7m"]
noise_type = 4
frequency = 0.015
fractal_type = 2
fractal_octaves = 3
fractal_lacunarity = 2.416
fractal_gain = 0.239
fractal_weighted_strength = 1.0
fractal_ping_pong_strength = 2.037
domain_warp_enabled = true
domain_warp_amplitude = 30.168
domain_warp_frequency = 0.032
domain_warp_fractal_octaves = 1
domain_warp_fractal_lacunarity = 6.086

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hn25n"]
seamless = true
color_ramp = SubResource("Gradient_1g27v")
noise = SubResource("FastNoiseLite_dlv7m")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_fcitg"]
seamless = true
as_normal_map = true
bump_strength = 10.8
noise = SubResource("FastNoiseLite_dlv7m")

[sub_resource type="ViewportTexture" id="ViewportTexture_gwand"]
viewport_path = NodePath("Player/Fog_drawer")

[sub_resource type="Gradient" id="Gradient_im8lq"]
colors = PackedColorArray(0, 0.260467, 0, 1, 0.305169, 0.557647, 0.256383, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_al3lm"]
noise_type = 0
frequency = 0.018
fractal_octaves = 10
fractal_lacunarity = 2.123
fractal_gain = 0.874
domain_warp_enabled = true
domain_warp_amplitude = 30.164
domain_warp_frequency = -0.03
domain_warp_fractal_type = 2
domain_warp_fractal_lacunarity = 6.062
domain_warp_fractal_gain = 0.971

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_p0d1b"]
seamless = true
color_ramp = SubResource("Gradient_im8lq")
noise = SubResource("FastNoiseLite_al3lm")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_e22tc"]
seamless = true
as_normal_map = true
bump_strength = 3.5
noise = SubResource("FastNoiseLite_al3lm")

[sub_resource type="Gradient" id="Gradient_2i80b"]
colors = PackedColorArray(0.859586, 0.873469, 0.643777, 1, 0.550264, 0.542165, 0.456681, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_l7c1p"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_x1bul"]
seamless = true
color_ramp = SubResource("Gradient_2i80b")
noise = SubResource("FastNoiseLite_l7c1p")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_23uga"]
seamless = true
color_ramp = SubResource("Gradient_2i80b")
noise = SubResource("FastNoiseLite_l7c1p")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rie7d"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("4_4qqhp")
shader_parameter/t_height = 100.0
shader_parameter/water_table = 7.0
shader_parameter/max_sand_height = 9.0
shader_parameter/universal_tex_scaling = 6.0
shader_parameter/min_rock_slope = 0.156
shader_parameter/max_grass_slope = 0.362
shader_parameter/heightmap = ExtResource("7_ubyyn")
shader_parameter/grass_alb_tex = SubResource("NoiseTexture2D_p0d1b")
shader_parameter/grass_norm_tex = SubResource("NoiseTexture2D_e22tc")
shader_parameter/cliff_alb_tex = SubResource("NoiseTexture2D_hn25n")
shader_parameter/cliff_norm_tex = SubResource("NoiseTexture2D_fcitg")
shader_parameter/sand_alb_tex = SubResource("NoiseTexture2D_x1bul")
shader_parameter/sand_norm_tex = SubResource("NoiseTexture2D_23uga")
shader_parameter/fog = SubResource("ViewportTexture_gwand")

[sub_resource type="PlaneMesh" id="PlaneMesh_ssgws"]
material = SubResource("ShaderMaterial_rie7d")
size = Vector2(1000, 1000)
subdivide_width = 1500
subdivide_depth = 1500

[sub_resource type="Gradient" id="Gradient_b6hmg"]
interpolation_mode = 2
colors = PackedColorArray(0.383293, 0.763558, 1, 1, 1.20327e-06, 0.337756, 0.401284, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_8euv3"]
gradient = SubResource("Gradient_b6hmg")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_6n0eb"]
noise_type = 3
fractal_type = 2
fractal_octaves = 4
fractal_lacunarity = 2.142
fractal_gain = 1.916
fractal_weighted_strength = 1.0
fractal_ping_pong_strength = 7.072

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_pd0fy"]
seamless = true
seamless_blend_skirt = 0.596
as_normal_map = true
noise = SubResource("FastNoiseLite_6n0eb")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_vgweg"]
noise_type = 3
seed = 3
fractal_type = 2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_cxok4"]
seamless = true
as_normal_map = true
bump_strength = 12.9
noise = SubResource("FastNoiseLite_vgweg")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5qp3h"]
render_priority = 0
shader = ExtResource("4_m0yv6")
shader_parameter/t_height = 100.0
shader_parameter/water_level = 7.0
shader_parameter/tide = 2.871
shader_parameter/water_turbulence = 6.652
shader_parameter/water_alb = Color(0.392157, 0.831373, 0.898039, 1)
shader_parameter/wave_direction_1 = Vector2(2, -2)
shader_parameter/wave_direction_2 = Vector2(-2, 2)
shader_parameter/time_scale = 0.01
shader_parameter/heightmap = ExtResource("7_ubyyn")
shader_parameter/water_alb_tex = SubResource("GradientTexture1D_8euv3")
shader_parameter/water_disp_tex_1 = SubResource("NoiseTexture2D_pd0fy")
shader_parameter/water_disp_tex_2 = SubResource("NoiseTexture2D_cxok4")

[sub_resource type="PlaneMesh" id="PlaneMesh_02ixx"]
material = SubResource("ShaderMaterial_5qp3h")
size = Vector2(1000, 1000)
subdivide_width = 750
subdivide_depth = 750

[sub_resource type="Gradient" id="Gradient_12c41"]
colors = PackedColorArray(0.8769, 0.632388, 1, 1, 1, 0.54902, 1, 0.247059)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mljiv"]
gradient = SubResource("Gradient_12c41")
fill_to = Vector2(0, 1)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_e61bh"]
texture = SubResource("GradientTexture2D_mljiv")

[sub_resource type="Theme" id="Theme_ut02k"]
AcceptDialog/styles/panel = null
HSeparator/styles/separator = null
ItemList/styles/panel = null
Panel/styles/panel = SubResource("StyleBoxTexture_e61bh")
PanelContainer/styles/panel = null
PopupDialog/styles/panel = null
PopupMenu/styles/labeled_separator_left = null
PopupMenu/styles/labeled_separator_right = null
PopupMenu/styles/panel = null
PopupMenu/styles/panel_disabled = null
PopupMenu/styles/separator = null
PopupPanel/styles/panel = null
ScrollContainer/styles/panel = null
TabContainer/styles/panel = null
TooltipPanel/styles/panel = null
Tree/styles/panel = null
VSeparator/styles/separator = null

[sub_resource type="BoxShape3D" id="BoxShape3D_cixmr"]
size = Vector3(1000, 100, 1000)

[sub_resource type="BoxShape3D" id="BoxShape3D_gubrw"]
size = Vector3(1000, 1, 1000)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_01r5d"]
render_priority = -1

[sub_resource type="CapsuleMesh" id="CapsuleMesh_x5v2n"]
radius = 2.431
height = 10.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fjj8m"]
albedo_color = Color(0, 0.290196, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0q7om"]
albedo_color = Color(1, 0, 0.0313726, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_twvxw"]
shader = ExtResource("10_l3sfk")
shader_parameter/instance_rows = 15.0
shader_parameter/instance_rot_randomize = 2.5
shader_parameter/instance_spacing = 4.829
shader_parameter/instance_scale_x = 1.0
shader_parameter/instance_scale_y = 1.0
shader_parameter/instance_scale_z = 1.0
shader_parameter/instance_scale_randomize = 1.0
shader_parameter/instance_pos_randomize = 4.713
shader_parameter/instance_scale_min = 0.8
shader_parameter/instance_scale_max = 1.2
shader_parameter/_coverage_altitude = 10.0
shader_parameter/_coverage_range = 100.0
shader_parameter/_slope_coverage = 0.1
shader_parameter/clumping_strength = 20.0
shader_parameter/terrain_normal_basis = null
shader_parameter/instance_orient_to_normal = true
shader_parameter/instance_orientation_influence = 1.0
shader_parameter/__terrain_amplitude = 100.0
shader_parameter/map_heightmap_size = Vector2(1000, 1000)
shader_parameter/map_heightmap = ExtResource("7_ubyyn")

[sub_resource type="Gradient" id="Gradient_bbpcy"]
interpolation_mode = 2
offsets = PackedFloat32Array(0.621212, 1)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_wy17f"]
gradient = SubResource("Gradient_bbpcy")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_p133b"]
lifetime_randomness = 0.16
emission_shape = 3
emission_box_extents = Vector3(65, 10, 65)
direction = Vector3(0, 1, 0)
gravity = Vector3(0, 0, 0)
initial_velocity_min = 1.0
initial_velocity_max = 1.0
linear_accel_min = 1.0
linear_accel_max = 1.0
scale_min = 14.83
scale_max = 17.73
color = Color(0.835294, 0.835294, 0.835294, 1)
color_ramp = SubResource("GradientTexture1D_wy17f")
sub_emitter_mode = 2
sub_emitter_amount_at_end = 1
collision_mode = 2
collision_use_scale = true

[sub_resource type="Gradient" id="Gradient_xpn55"]
colors = PackedColorArray(0.74558, 0.74558, 0.74558, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_xswe7"]
frequency = 0.0045

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hexlv"]
seamless = true
color_ramp = SubResource("Gradient_xpn55")
noise = SubResource("FastNoiseLite_xswe7")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y0vbv"]
transparency = 1
shading_mode = 2
vertex_color_use_as_albedo = true
metallic_specular = 0.0
roughness_texture = SubResource("NoiseTexture2D_hexlv")
emission_enabled = true
emission = Color(0.596078, 0.596078, 0.596078, 1)
rim = 0.29
rim_tint = 1.0
heightmap_scale = 8.393
subsurf_scatter_enabled = true
subsurf_scatter_strength = 0.79
subsurf_scatter_transmittance_depth = 8.0
subsurf_scatter_transmittance_boost = 1.0
refraction_scale = 0.38
shadow_to_opacity = true
proximity_fade_distance = 0.0
distance_fade_mode = 2

[sub_resource type="SphereMesh" id="SphereMesh_cyqkr"]
lightmap_size_hint = Vector2i(41, 11)
material = SubResource("StandardMaterial3D_y0vbv")
radius = 1.25
height = 2.5
radial_segments = 8
rings = 2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_oe4h0"]
seed = 2
frequency = 0.041

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_tx7g1"]
noise = SubResource("FastNoiseLite_oe4h0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qfdoi"]
shader = ExtResource("10_l3sfk")
shader_parameter/instance_rows = 140.0
shader_parameter/instance_rot_randomize = 2.423
shader_parameter/instance_spacing = 2.641
shader_parameter/instance_scale_x = 1.0
shader_parameter/instance_scale_y = 0.567
shader_parameter/instance_scale_z = 1.0
shader_parameter/instance_scale_randomize = 1.303
shader_parameter/instance_pos_randomize = 2.0
shader_parameter/instance_scale_min = 1.027
shader_parameter/instance_scale_max = 1.129
shader_parameter/_coverage_altitude = 21.666
shader_parameter/_coverage_range = 100.0
shader_parameter/_slope_coverage = 0.5
shader_parameter/clumping_strength = 33.19
shader_parameter/terrain_normal_basis = null
shader_parameter/instance_orient_to_normal = false
shader_parameter/instance_orientation_influence = 1.0
shader_parameter/__terrain_amplitude = 100.0
shader_parameter/map_heightmap_size = Vector2(1000, 1000)
shader_parameter/map_heightmap = ExtResource("7_ubyyn")
shader_parameter/map_clumpmap = SubResource("NoiseTexture2D_tx7g1")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vrrp7"]
cull_mode = 2
shading_mode = 2
vertex_color_use_as_albedo = true
albedo_color = Color(0, 0.831373, 0.184314, 1)
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="PlaneMesh" id="PlaneMesh_nq15t"]
material = SubResource("StandardMaterial3D_vrrp7")
size = Vector2(0.071, 4.458)
subdivide_width = 6
orientation = 2

[sub_resource type="PlaneMesh" id="PlaneMesh_nulpy"]
material = SubResource("StandardMaterial3D_vrrp7")
size = Vector2(0.071, 0.663)
subdivide_width = 6
center_offset = Vector3(0.32, 1.086, -0.071)
orientation = 2

[sub_resource type="PlaneMesh" id="PlaneMesh_wopk1"]
material = SubResource("StandardMaterial3D_vrrp7")
size = Vector2(0.087, 4.737)
subdivide_width = 6
center_offset = Vector3(-0.358, -0.104, 0.019)
orientation = 2

[sub_resource type="Gradient" id="Gradient_eofwo"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.572549, 0.713726, 1, 0.368627)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_kogvw"]
noise_type = 3
seed = 12
frequency = 0.001

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_p3d2n"]
generate_mipmaps = false
color_ramp = SubResource("Gradient_eofwo")
noise = SubResource("FastNoiseLite_kogvw")

[sub_resource type="BoxShape3D" id="BoxShape3D_rb27j"]

[sub_resource type="Environment" id="Environment_fgh2p"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 16.0

[sub_resource type="World3D" id="World3D_s03bo"]
environment = SubResource("Environment_fgh2p")

[node name="GameScene" type="Node3D"]
script = ExtResource("1_7pjje")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0xqwl")
camera_attributes = SubResource("CameraAttributesPractical_d3i0u")

[node name="UI_Node" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("2_wj4ul")

[node name="Viewport_Sectons" type="Panel" parent="UI_Node"]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1.0
offset_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="LeftBar" type="Panel" parent="UI_Node/Viewport_Sectons"]
use_parent_material = true
layout_mode = 1
anchors_preset = -1
anchor_right = 0.05
anchor_bottom = 1.0
grow_vertical = 2

[node name="RightBar" type="Panel" parent="UI_Node/Viewport_Sectons"]
use_parent_material = true
layout_mode = 1
anchors_preset = -1
anchor_left = 0.95
anchor_right = 1.0
anchor_bottom = 1.0
grow_vertical = 2

[node name="TopBar" type="Panel" parent="UI_Node/Viewport_Sectons"]
use_parent_material = true
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.05
grow_vertical = 2

[node name="BottomBar" type="Panel" parent="UI_Node/Viewport_Sectons"]
use_parent_material = true
layout_mode = 1
anchors_preset = -1
anchor_top = 0.95
anchor_right = 1.0
anchor_bottom = 1.0
grow_vertical = 2

[node name="Time_Bar" type="Panel" parent="UI_Node"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.214
anchor_bottom = 0.161
grow_horizontal = 0

[node name="Date" type="RichTextLabel" parent="UI_Node/Time_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.469
anchor_top = 0.191
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Day_Cycle_Timer" type="Timer" parent="UI_Node/Time_Bar"]
wait_time = 0.5

[node name="Build_Menu" type="Panel" parent="UI_Node"]
material = SubResource("CanvasItemMaterial_onle8")
layout_mode = 0
offset_left = 1030.0
offset_top = 89.0
offset_right = 1230.0
offset_bottom = 510.0

[node name="Build_Menu_Container" type="VBoxContainer" parent="UI_Node/Build_Menu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="RichTextLabel" type="RichTextLabel" parent="UI_Node/Build_Menu/Build_Menu_Container"]
layout_mode = 2
bbcode_enabled = true
text = "                [u][b]--BUILD--[/b][/u]
"
fit_content = true

[node name="General_Buttons" type="MenuButton" parent="UI_Node/Build_Menu/Build_Menu_Container"]
material = SubResource("CanvasItemMaterial_fbdp7")
layout_mode = 2
toggle_mode = false
text = "General"

[node name="Military_Buttons" type="MenuButton" parent="UI_Node/Build_Menu/Build_Menu_Container"]
material = SubResource("CanvasItemMaterial_fbdp7")
layout_mode = 2
toggle_mode = false
text = "Military"

[node name="Resource_Buttons" type="MenuButton" parent="UI_Node/Build_Menu/Build_Menu_Container"]
material = SubResource("CanvasItemMaterial_fbdp7")
layout_mode = 2
toggle_mode = false
text = "Resource"

[node name="Minimap" type="Panel" parent="UI_Node"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.8
anchor_top = 0.7
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -0.320038

[node name="Snap" type="Button" parent="UI_Node/Minimap"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.06
anchor_bottom = 0.08
offset_left = -59.0
offset_top = -66.68
offset_right = -2.36
offset_bottom = -11.9856
text = "Snap"
icon = SubResource("GradientTexture2D_g6uko")
flat = true
icon_alignment = 1

[node name="Build_Button" type="Button" parent="UI_Node/Minimap"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.355
anchor_top = -0.145
anchor_right = 0.355
anchor_bottom = -0.145
offset_left = -102.88
offset_top = -70.3135
offset_right = -30.88
offset_bottom = 1.68646
text = "Build"
icon = SubResource("GradientTexture2D_mb71g")
flat = true
icon_alignment = 1

[node name="Units_Button" type="Button" parent="UI_Node/Minimap"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.57
anchor_top = -0.145
anchor_right = 0.57
offset_left = -41.92
offset_top = -87.3136
offset_right = 31.08
offset_bottom = -46.68
keep_pressed_outside = true
text = "Units"
icon = SubResource("GradientTexture2D_tausu")
flat = true
icon_alignment = 1

[node name="Management_Button" type="Button" parent="UI_Node/Minimap"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.57
anchor_top = -0.145
anchor_right = 0.57
offset_left = -99.92
offset_top = -93.3136
offset_right = -26.92
offset_bottom = -52.68
keep_pressed_outside = true
text = "Mgmt"
icon = SubResource("GradientTexture2D_tausu")
flat = true
icon_alignment = 1

[node name="ColorRect" type="ColorRect" parent="UI_Node/Minimap"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = -1
anchor_left = 0.589
anchor_top = -0.47
anchor_right = 1.0
anchor_bottom = -0.275
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Pop" type="RichTextLabel" parent="UI_Node/Minimap"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.651
anchor_top = -0.423
anchor_right = 0.948
anchor_bottom = -0.282
text = "Population"
autowrap_mode = 2

[node name="Minimap_Placeholder" type="Sprite2D" parent="UI_Node/Minimap"]
position = Vector2(132.95, 75.2701)
scale = Vector2(2.25078, 2.25078)
texture = SubResource("GradientTexture2D_uejnh")

[node name="SubViewportContainer" type="SubViewportContainer" parent="UI_Node/Minimap"]
offset_left = 45.0
offset_top = -14.68
offset_right = 220.0
offset_bottom = 160.32
pivot_offset = Vector2(87.5, 87)
stretch = true

[node name="SubViewport" type="SubViewport" parent="UI_Node/Minimap/SubViewportContainer"]
handle_input_locally = false
debug_draw = 1
scaling_3d_scale = 0.64
size = Vector2i(175, 175)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="UI_Node/Minimap/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 404.02, 0)
cull_mask = 2
attributes = SubResource("CameraAttributesPractical_g3y50")
projection = 1
size = 1000.0

[node name="Visual_Ground" type="MeshInstance3D" parent="UI_Node/Minimap/SubViewportContainer/SubViewport"]
layers = 3
cast_shadow = 2
mesh = SubResource("PlaneMesh_ssgws")
skeleton = NodePath("")

[node name="Water" type="MeshInstance3D" parent="UI_Node/Minimap/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7)
layers = 32769
mesh = SubResource("PlaneMesh_02ixx")
skeleton = NodePath("../Visual_Ground")

[node name="Clock_Back" type="Sprite2D" parent="UI_Node/Minimap"]
position = Vector2(-958, -448.48)
scale = Vector2(0.4, 0.4)
texture = ExtResource("6_mffx0")

[node name="Clock_front" type="Sprite2D" parent="UI_Node/Minimap"]
position = Vector2(-958, -448.48)
scale = Vector2(0.4, 0.4)
texture = ExtResource("7_rkqbs")

[node name="Res_Bar" type="Panel" parent="UI_Node"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.7
anchor_top = 0.7
anchor_right = 0.8
anchor_bottom = 1.0
grow_horizontal = 0

[node name="Wood" type="RichTextLabel" parent="UI_Node/Res_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.055
anchor_bottom = 0.125
text = "Wood
"

[node name="ColorRect" type="ColorRect" parent="UI_Node/Res_Bar/Wood"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Amount" type="RichTextLabel" parent="UI_Node/Res_Bar/Wood"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
fit_content = true

[node name="Stone" type="RichTextLabel" parent="UI_Node/Res_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.125
anchor_right = 1.0
anchor_bottom = 0.25
offset_top = 4.0
offset_bottom = 4.0
text = "Stone"

[node name="ColorRect" type="ColorRect" parent="UI_Node/Res_Bar/Stone"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Amount" type="RichTextLabel" parent="UI_Node/Res_Bar/Stone"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -0.00705338
fit_content = true

[node name="Riches" type="RichTextLabel" parent="UI_Node/Res_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.25
anchor_right = 1.0
anchor_bottom = 0.375
offset_top = 8.0
offset_bottom = 8.0
text = "Riches"
autowrap_mode = 2

[node name="ColorRect" type="ColorRect" parent="UI_Node/Res_Bar/Riches"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Amount" type="RichTextLabel" parent="UI_Node/Res_Bar/Riches"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 0.00847244
offset_right = 0.00799561
offset_bottom = 0.00847244
fit_content = true

[node name="Crystal" type="RichTextLabel" parent="UI_Node/Res_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.375
anchor_right = 1.0
anchor_bottom = 0.5
offset_top = 12.0
offset_bottom = 12.0
text = "Crystal"
autowrap_mode = 2

[node name="ColorRect" type="ColorRect" parent="UI_Node/Res_Bar/Crystal"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Amount" type="RichTextLabel" parent="UI_Node/Res_Bar/Crystal"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
fit_content = true

[node name="Food" type="RichTextLabel" parent="UI_Node/Res_Bar"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.625
offset_top = 16.0
offset_right = 12.0
offset_bottom = 16.0
text = "Food"
autowrap_mode = 2

[node name="Amount" type="RichTextLabel" parent="UI_Node/Res_Bar/Food"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
fit_content = true

[node name="ColorRect" type="ColorRect" parent="UI_Node/Res_Bar/Food"]
self_modulate = Color(1, 1, 1, 0.313726)
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Unit_List" type="Panel" parent="UI_Node"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.02
anchor_top = 0.8
anchor_right = 0.4
anchor_bottom = 0.9
grow_vertical = 0
theme = SubResource("Theme_ut02k")

[node name="World" type="Node3D" parent="."]
script = ExtResource("4_k22hi")

[node name="Water" type="MeshInstance3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7, 0)
layers = 32771
mesh = SubResource("PlaneMesh_02ixx")
skeleton = NodePath("../Visual_Ground")

[node name="Area3D" type="Area3D" parent="World/Water"]
input_ray_pickable = false
gravity_space_override = 3
linear_damp_space_override = 3
linear_damp = 0.206
metadata/is_water = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Water/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -50, 0)
shape = SubResource("BoxShape3D_cixmr")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Water" groups=["water"]]
collision_layer = 32768
collision_mask = 32768

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Water/StaticBody3D"]
shape = SubResource("BoxShape3D_gubrw")

[node name="Visual_Ground" type="MeshInstance3D" parent="World"]
layers = 3
cast_shadow = 2
mesh = SubResource("PlaneMesh_ssgws")
skeleton = NodePath("")

[node name="Player_Base_Spawn" type="Node3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 262.322, 21.5589, 70.0708)
script = ExtResource("8_viuko")
group = "reg_0_1"

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Player_Base_Spawn"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.7489, 0)
material_override = SubResource("StandardMaterial3D_01r5d")
mesh = SubResource("CapsuleMesh_x5v2n")
surface_material_override/0 = SubResource("StandardMaterial3D_fjj8m")

[node name="Enemy1_Base_Spawn" type="Node3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 250.659, 20.7904, -267.06)
script = ExtResource("8_viuko")
group = "reg_1_0"
actor_id = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="World/Enemy1_Base_Spawn"]
mesh = SubResource("CapsuleMesh_x5v2n")
surface_material_override/0 = SubResource("StandardMaterial3D_0q7om")

[node name="Forest" parent="World" instance=ExtResource("7_1qpxy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 65.0753, 44.4939, -302.653)

[node name="GPUParticles3D" parent="World/Forest" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.89764)
amount = 250
visibility_aabb = AABB(-38.4773, -66.4526, -36.144, 76.9545, 132.905, 72.288)
process_material = SubResource("ShaderMaterial_twvxw")

[node name="Stone_deposit" parent="World" instance=ExtResource("9_b7fca")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 107.985, 17.8461, -12.6955)

[node name="Crystal_deposit" parent="World" instance=ExtResource("10_07s6x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 344.647, 17.3313, 5.01563)

[node name="Explorable_Fog" type="Node3D" parent="World"]

[node name="RayCast3D" type="RayCast3D" parent="World/Explorable_Fog"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 200, 0)
exclude_parent = false
target_position = Vector3(0, -500, 0)
collision_mask = 32768

[node name="Fog_Of_War" parent="World/Explorable_Fog" instance=ExtResource("12_875hf")]

[node name="Great_Fog_Wall" type="Node3D" parent="World"]

[node name="Fog_Of_War_Edge" type="GPUParticles3D" parent="World/Great_Fog_Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 555, 10, -555)
layers = 16
sorting_offset = 100.0
amount = 400
lifetime = 8.0
preprocess = 7.0
randomness = 0.6
visibility_aabb = AABB(-71.389, -46.399, -68.944, 145, 200, 145)
process_material = SubResource("ParticleProcessMaterial_p133b")
draw_pass_1 = SubResource("SphereMesh_cyqkr")

[node name="Player" type="Node" parent="."]
script = ExtResource("9_3h23t")

[node name="Player_camera" type="Node3D" parent="Player"]
script = ExtResource("10_jjfcj")

[node name="Player_view" type="Camera3D" parent="Player/Player_camera"]
transform = Transform3D(1, 0, 0, 0, 0.573577, 0.819152, 0, -0.819152, 0.573577, 0, 50, 15)
doppler_tracking = 1
current = true
fov = 37.8493

[node name="RayCast3D" type="RayCast3D" parent="Player/Player_camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 15, 0)
target_position = Vector3(0, -500, 0)
collision_mask = 32768
hit_from_inside = true

[node name="Grass Scatter" type="GPUParticles3D" parent="Player/Player_camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 16.457)
visible = false
amount = 10000
lifetime = 0.09
explosiveness = 1.0
visibility_aabb = AABB(-62.3046, -32.3354, -55.5563, 124.609, 64.6707, 111.113)
process_material = SubResource("ShaderMaterial_qfdoi")
draw_passes = 3
draw_pass_1 = SubResource("PlaneMesh_nq15t")
draw_pass_2 = SubResource("PlaneMesh_nulpy")
draw_pass_3 = SubResource("PlaneMesh_wopk1")

[node name="Selection_square" type="Decal" parent="Player"]
visible = false
size = Vector3(1, 20, 1)
texture_albedo = SubResource("NoiseTexture2D_p3d2n")

[node name="Selection_Square_Box" type="Area3D" parent="Player/Selection_square"]
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/Selection_square/Selection_Square_Box"]
shape = SubResource("BoxShape3D_rb27j")

[node name="Fog_drawer" type="SubViewport" parent="Player"]
own_world_3d = true
world_3d = SubResource("World3D_s03bo")
transparent_bg = true
size = Vector2i(5000, 5000)
render_target_update_mode = 4
script = ExtResource("3_vc5fr")

[node name="Camera3D" type="Camera3D" parent="Player/Fog_drawer"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 404.02, 0)
projection = 1
size = 1000.0

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(2.21801e-08, 0.200172, 0.979761, -1.29113e-07, -0.979761, 0.200172, 1, -1.3094e-07, 4.11362e-09, 0, 0, 0)
light_cull_mask = 4294967279
shadow_enabled = true
shadow_reverse_cull_face = true
shadow_blur = 2.275
directional_shadow_max_distance = 800.0
directional_shadow_pancake_size = 76.6

[node name="Moon" type="DirectionalLight3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
visible = false
light_color = Color(0.745098, 1, 1, 1)
light_energy = 0.427
light_indirect_energy = 0.819
light_cull_mask = 4294967279
shadow_enabled = true
shadow_blur = 7.224
directional_shadow_mode = 1
directional_shadow_blend_splits = true
directional_shadow_max_distance = 800.0
directional_shadow_pancake_size = 76.6
sky_mode = 1

[connection signal="menu_opened" from="UI_Node" to="." method="_on_ui_node_menu_opened"]
[connection signal="mouse_entered" from="UI_Node/Viewport_Sectons/LeftBar" to="Player/Player_camera" method="_on_left_bar_mouse_entered"]
[connection signal="mouse_exited" from="UI_Node/Viewport_Sectons/LeftBar" to="Player/Player_camera" method="_on_left_bar_mouse_exited"]
[connection signal="mouse_entered" from="UI_Node/Viewport_Sectons/RightBar" to="Player/Player_camera" method="_on_right_bar_mouse_entered"]
[connection signal="mouse_exited" from="UI_Node/Viewport_Sectons/RightBar" to="Player/Player_camera" method="_on_right_bar_mouse_exited"]
[connection signal="mouse_entered" from="UI_Node/Viewport_Sectons/TopBar" to="Player/Player_camera" method="_on_top_bar_mouse_entered"]
[connection signal="mouse_exited" from="UI_Node/Viewport_Sectons/TopBar" to="Player/Player_camera" method="_on_top_bar_mouse_exited"]
[connection signal="mouse_entered" from="UI_Node/Viewport_Sectons/BottomBar" to="Player/Player_camera" method="_on_bottom_bar_mouse_entered"]
[connection signal="mouse_exited" from="UI_Node/Viewport_Sectons/BottomBar" to="Player/Player_camera" method="_on_bottom_bar_mouse_exited"]
[connection signal="timeout" from="UI_Node/Time_Bar/Day_Cycle_Timer" to="." method="_on_day_cycle_timer_timeout"]
[connection signal="pressed" from="UI_Node/Minimap/Snap" to="UI_Node" method="_on_snap_pressed"]
[connection signal="pressed" from="UI_Node/Minimap/Build_Button" to="UI_Node" method="_on_build_button_pressed"]
[connection signal="pressed" from="UI_Node/Minimap/Units_Button" to="UI_Node" method="_on_units_button_pressed"]
[connection signal="area_shape_entered" from="World/Forest/Affected_Area" to="World/Forest" method="_area_entered" flags=18]

[editable path="World/Forest"]
[editable path="World/Stone_deposit"]
[editable path="World/Explorable_Fog/Fog_Of_War"]
