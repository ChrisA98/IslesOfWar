[gd_scene load_steps=36 format=3 uid="uid://d37p40ckyt1q0"]

[ext_resource type="PackedScene" uid="uid://ccoruw5j562l7" path="res://Parent_Scenes/Building_Base.tscn" id="1_ibqm7"]
[ext_resource type="Script" path="res://Buildings/scripts/Watch_Tower.gd" id="2_d0ia4"]
[ext_resource type="Shader" path="res://Parent_Scenes/res/health_bar.gdshader" id="3_72x1r"]
[ext_resource type="Script" path="res://Parent_Scenes/Scripts/projectile_data.gd" id="4_r5cs2"]
[ext_resource type="Script" path="res://Parent_Scenes/Scripts/beam_data.gd" id="5_j1itx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vxd70"]
albedo_color = Color(0.321569, 0.168627, 0.0235294, 1)

[sub_resource type="SphereMesh" id="SphereMesh_qt3ra"]
material = SubResource("StandardMaterial3D_vxd70")
radius = 0.1
height = 0.2
radial_segments = 4
rings = 1

[sub_resource type="Curve" id="Curve_ghkoo"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_g6r53"]
curve = SubResource("Curve_ghkoo")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_kk4vq"]
direction = Vector3(0, 1, 0)
spread = 18.75
initial_velocity_min = 0.2
initial_velocity_max = 33.17
linear_accel_min = 15.28
linear_accel_max = 15.28
scale_curve = SubResource("CurveTexture_g6r53")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bm2xt"]
vertex_color_use_as_albedo = true
albedo_color = Color(0.414603, 0.203633, 0.10105, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_46n8d"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t36qb"]
vertex_color_use_as_albedo = true
albedo_color = Color(0.577008, 0.577008, 0.577008, 1)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.4

[sub_resource type="ArrayMesh" id="ArrayMesh_n6urv"]
_surfaces = [{
"aabb": AABB(-0.063011, 0, -0.060892, 0.123903, 2.00001, 0.121784),
"attribute_data": PackedByteArray(255, 255, 0, 0, 255, 255, 50, 83, 255, 191, 0, 0, 255, 191, 50, 83, 255, 191, 0, 0, 255, 191, 50, 83, 255, 127, 0, 0, 255, 127, 50, 83, 255, 127, 0, 0, 255, 127, 50, 83, 255, 63, 0, 0, 255, 63, 50, 83, 255, 63, 0, 0, 255, 63, 50, 83, 0, 0, 0, 0, 0, 0, 50, 83, 255, 127, 50, 83, 255, 127, 255, 127, 255, 63, 50, 83, 255, 63, 255, 127, 255, 63, 50, 83, 255, 63, 255, 127, 0, 0, 50, 83, 0, 0, 255, 127, 255, 191, 50, 83, 255, 191, 255, 127, 255, 127, 50, 83, 255, 127, 255, 127, 255, 255, 50, 83, 255, 255, 255, 127, 255, 191, 50, 83, 255, 191, 255, 127),
"format": 34896613399,
"index_count": 48,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 2, 0, 1, 0, 3, 0, 4, 0, 5, 0, 6, 0, 6, 0, 5, 0, 7, 0, 8, 0, 9, 0, 10, 0, 10, 0, 9, 0, 11, 0, 12, 0, 13, 0, 14, 0, 14, 0, 13, 0, 15, 0, 16, 0, 17, 0, 18, 0, 18, 0, 17, 0, 19, 0, 20, 0, 21, 0, 22, 0, 22, 0, 21, 0, 23, 0, 24, 0, 25, 0, 26, 0, 26, 0, 25, 0, 27, 0, 28, 0, 29, 0, 30, 0, 30, 0, 29, 0, 31, 0),
"material": SubResource("StandardMaterial3D_bm2xt"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 32,
"vertex_data": PackedByteArray(47, 130, 254, 255, 35, 48, 255, 223, 47, 130, 35, 143, 0, 0, 255, 223, 174, 208, 254, 255, 255, 127, 255, 223, 254, 255, 35, 143, 255, 127, 255, 223, 174, 208, 254, 255, 255, 127, 1, 160, 254, 255, 35, 143, 255, 127, 1, 160, 47, 130, 254, 255, 219, 207, 1, 160, 47, 130, 35, 143, 255, 255, 1, 160, 47, 130, 254, 255, 219, 207, 147, 159, 47, 130, 35, 143, 255, 255, 147, 159, 177, 51, 254, 255, 255, 127, 147, 159, 0, 0, 35, 143, 255, 127, 147, 159, 177, 51, 254, 255, 255, 127, 110, 224, 0, 0, 35, 143, 255, 127, 110, 224, 47, 130, 254, 255, 35, 48, 110, 224, 47, 130, 35, 143, 0, 0, 110, 224, 47, 130, 35, 143, 255, 255, 135, 159, 47, 130, 0, 0, 161, 186, 135, 159, 0, 0, 35, 143, 255, 127, 135, 159, 142, 72, 0, 0, 255, 127, 135, 159, 0, 0, 35, 143, 255, 127, 122, 224, 142, 72, 0, 0, 255, 127, 122, 224, 47, 130, 35, 143, 0, 0, 122, 224, 47, 130, 0, 0, 93, 69, 122, 224, 254, 255, 35, 143, 255, 127, 2, 160, 209, 187, 0, 0, 255, 127, 2, 160, 47, 130, 35, 143, 255, 255, 2, 160, 47, 130, 0, 0, 161, 186, 2, 160, 47, 130, 35, 143, 0, 0, 255, 223, 47, 130, 0, 0, 93, 69, 255, 223, 254, 255, 35, 143, 255, 127, 255, 223, 209, 187, 0, 0, 255, 127, 255, 223, 164, 129, 123, 0, 164, 129, 123, 0, 164, 129, 123, 0, 164, 129, 123, 0, 229, 131, 193, 2, 229, 131, 193, 2, 229, 131, 193, 2, 229, 131, 193, 2, 230, 130, 223, 251, 235, 130, 230, 251, 230, 130, 224, 251, 235, 130, 230, 251, 129, 128, 72, 254, 124, 128, 74, 254, 129, 128, 72, 254, 124, 128, 75, 254, 108, 123, 187, 252, 100, 123, 192, 252, 108, 123, 187, 252, 100, 123, 193, 252, 24, 126, 115, 255, 20, 126, 109, 255, 24, 126, 115, 255, 20, 126, 109, 255, 225, 124, 104, 4, 225, 124, 104, 4, 225, 124, 104, 4, 225, 124, 104, 4, 115, 127, 221, 1, 115, 127, 221, 1, 115, 127, 221, 1, 115, 127, 221, 1)
}, {
"aabb": AABB(-0.141866, 0, -0.141866, 0.283732, 1.11829, 0.283732),
"attribute_data": PackedByteArray(0, 0, 0, 63, 102, 102, 166, 62, 0, 0, 0, 63, 0, 0, 0, 63, 0, 0, 0, 63, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 102, 102, 166, 62, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 128, 62, 102, 102, 166, 62, 0, 0, 128, 62, 0, 0, 0, 63, 0, 0, 128, 62, 0, 0, 0, 63, 0, 0, 64, 63, 102, 102, 166, 62, 0, 0, 64, 63, 0, 0, 0, 63, 0, 0, 64, 63, 0, 0, 0, 63),
"format": 34359742487,
"index_count": 12,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0),
"material": SubResource("StandardMaterial3D_46n8d"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 12,
"vertex_data": PackedByteArray(0, 0, 0, 0, 230, 35, 143, 63, 228, 105, 121, 61, 0, 0, 0, 0, 0, 0, 0, 0, 220, 127, 228, 60, 0, 0, 0, 0, 0, 0, 0, 0, 82, 69, 17, 62, 0, 0, 0, 0, 0, 0, 0, 0, 220, 127, 228, 188, 0, 0, 0, 0, 230, 35, 143, 63, 228, 105, 121, 189, 0, 0, 0, 0, 0, 0, 0, 0, 82, 69, 17, 190, 233, 11, 129, 189, 230, 35, 143, 63, 0, 0, 0, 0, 220, 127, 228, 188, 0, 0, 0, 0, 0, 0, 0, 0, 82, 69, 17, 190, 0, 0, 0, 0, 0, 0, 0, 0, 228, 105, 121, 61, 230, 35, 143, 63, 0, 0, 0, 0, 220, 127, 228, 60, 0, 0, 0, 0, 0, 0, 0, 0, 82, 69, 17, 62, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 127, 255, 255, 255, 191, 255, 255, 255, 127, 255, 255, 255, 191, 255, 255, 255, 127, 255, 255, 255, 191, 255, 255, 255, 127, 255, 255, 255, 191, 255, 255, 255, 127, 255, 255, 255, 191, 255, 255, 255, 127, 255, 255, 255, 191, 255, 127, 255, 127, 255, 255, 255, 63, 255, 127, 255, 127, 255, 255, 255, 63, 255, 127, 255, 127, 255, 255, 255, 63, 255, 255, 255, 255, 255, 255, 255, 191, 255, 255, 255, 255, 255, 255, 255, 191, 255, 255, 255, 255, 255, 255, 255, 191)
}, {
"aabb": AABB(-0.118179, 2, -0.118179, 0.236358, 0.332456, 0.236358),
"attribute_data": PackedByteArray(0, 0, 128, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 64, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 64, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0, 128, 62, 0, 0, 0, 0, 0, 0, 128, 62, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 64, 63, 0, 0, 0, 0, 0, 0, 64, 63, 0, 0, 0, 0, 0, 0, 128, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 2, 0, 1, 0, 3, 0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 9, 0, 8, 0, 10, 0, 11, 0, 7, 0, 12, 0, 12, 0, 7, 0, 9, 0, 8, 0, 0, 0, 10, 0, 10, 0, 0, 0, 2, 0, 13, 0, 14, 0, 15, 0, 16, 0, 17, 0, 18, 0, 19, 0, 20, 0, 21, 0),
"material": SubResource("StandardMaterial3D_t36qb"),
"name": "Cylinder",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 22,
"vertex_data": PackedByteArray(115, 156, 27, 189, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 115, 156, 27, 189, 213, 7, 242, 189, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 189, 213, 7, 242, 61, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 61, 0, 0, 0, 0, 246, 70, 21, 64, 0, 0, 0, 0, 115, 156, 27, 61, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 115, 156, 27, 61, 213, 7, 242, 61, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 61, 0, 0, 0, 0, 0, 0, 0, 64, 115, 156, 27, 189, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 189, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 61, 213, 7, 242, 189, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 246, 70, 21, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 189, 213, 7, 242, 61, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 246, 70, 21, 64, 0, 0, 0, 0, 213, 7, 242, 189, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 213, 7, 242, 189, 0, 0, 0, 0, 246, 70, 21, 64, 0, 0, 0, 0, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 86, 182, 80, 147, 255, 255, 255, 63, 86, 182, 80, 147, 255, 255, 255, 63, 86, 182, 80, 147, 255, 255, 255, 63, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 255, 127, 0, 0, 255, 255, 255, 191, 168, 73, 80, 147, 255, 255, 255, 63, 168, 73, 80, 147, 255, 255, 255, 63, 168, 73, 80, 147, 255, 255, 255, 63, 173, 236, 167, 201, 255, 255, 255, 191, 173, 236, 167, 201, 255, 255, 255, 191, 173, 236, 167, 201, 255, 255, 255, 191, 81, 19, 167, 201, 255, 255, 255, 191, 81, 19, 167, 201, 255, 255, 255, 191, 81, 19, 167, 201, 255, 255, 255, 191)
}]
blend_shape_mode = 0

[sub_resource type="Resource" id="Resource_xas3v"]
resource_local_to_scene = true
script = ExtResource("4_r5cs2")
travel_speed = 75.0
lifespan = 2.0
arc_height = 1.0
impact_particle_material = SubResource("ParticleProcessMaterial_kk4vq")
impact_particle = SubResource("SphereMesh_qt3ra")
projectile_mesh = SubResource("ArrayMesh_n6urv")

[sub_resource type="Gradient" id="Gradient_gslc2"]
colors = PackedColorArray(0.619608, 0, 0.768627, 0.431373, 0.619608, 0, 0.768627, 0.266667)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_fkndr"]
gradient = SubResource("Gradient_gslc2")
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 0.025641)

[sub_resource type="Gradient" id="Gradient_335os"]
colors = PackedColorArray(0.619608, 0, 0.768627, 0.431373, 0.619608, 0, 0.768627, 0.266667)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mqeo6"]
gradient = SubResource("Gradient_335os")
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 0.025641)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_58klp"]
transparency = 1
albedo_texture = SubResource("GradientTexture2D_fkndr")
emission_enabled = true
emission_texture = SubResource("GradientTexture2D_mqeo6")

[sub_resource type="CylinderMesh" id="CylinderMesh_u7d3e"]
material = SubResource("StandardMaterial3D_58klp")
top_radius = 0.135
bottom_radius = 0.15
height = 7.42

[sub_resource type="Gradient" id="Gradient_0xanv"]
colors = PackedColorArray(0.619608, 0, 0.768627, 0.431373, 0.619608, 0, 0.768627, 0.266667)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_6xqfl"]
gradient = SubResource("Gradient_0xanv")
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 0.025641)

[sub_resource type="Gradient" id="Gradient_whaju"]
colors = PackedColorArray(0.619608, 0, 0.768627, 0.431373, 0.619608, 0, 0.768627, 0.266667)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_3ucaa"]
gradient = SubResource("Gradient_whaju")
fill_from = Vector2(0, 1)
fill_to = Vector2(0, 0.025641)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v2wx5"]
transparency = 1
albedo_texture = SubResource("GradientTexture2D_6xqfl")
emission_enabled = true
emission_texture = SubResource("GradientTexture2D_3ucaa")

[sub_resource type="SphereMesh" id="SphereMesh_mpesd"]
material = SubResource("StandardMaterial3D_v2wx5")
radius = 0.125
height = 0.25

[sub_resource type="Curve" id="Curve_0xt2m"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_6clb7"]
curve = SubResource("Curve_0xt2m")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_r3hrv"]
direction = Vector3(0, -0.187609, -0.982244)
spread = 81.81
initial_velocity_max = 9.69
linear_accel_min = 15.28
linear_accel_max = 15.28
scale_curve = SubResource("CurveTexture_6clb7")

[sub_resource type="Resource" id="Resource_ov1qh"]
resource_local_to_scene = true
script = ExtResource("5_j1itx")
radius = 0.15
lifespan = 10.0
impact_particle_material = SubResource("ParticleProcessMaterial_r3hrv")
impact_particle = SubResource("SphereMesh_mpesd")
beam_mesh = SubResource("CylinderMesh_u7d3e")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_v7jqo"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("3_72x1r")
shader_parameter/health_amount = 0.99
shader_parameter/health_bar_color = Color(0.152941, 0.121569, 0.698039, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_5w5oq"]
resource_local_to_scene = true
material = SubResource("ShaderMaterial_v7jqo")
size = Vector2(0.235, 4)
orientation = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_e2v5y"]
resource_local_to_scene = true
size = Vector3(1.5, 1, 1.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_n5at5"]
resource_local_to_scene = true
size = Vector3(2.74634, 1, 2.37012)

[node name="Watch Tower" instance=ExtResource("1_ibqm7")]
script = ExtResource("2_d0ia4")
type = "Watch_tower"
fog_rev_radius = 20.0
base_health = 20.0
attack_radius = 200.0
atk_str = 5.0
base_armor = 0.1

[node name="Attack_Manager" parent="." index="0"]
vertical_fire_offset = 15
projectile_data = SubResource("Resource_xas3v")
beam_data = SubResource("Resource_ov1qh")

[node name="Health_Bar" parent="." index="2"]
mesh = SubResource("PlaneMesh_5w5oq")

[node name="CollisionShape3D" parent="StaticBody3D" index="0"]
shape = SubResource("BoxShape3D_e2v5y")

[node name="CollisionShape3D2" parent="StaticBody3D" index="1"]
shape = SubResource("BoxShape3D_n5at5")
